<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Talking Voice Calculator Pro</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<style>
html, body {
  margin:0;
  padding:0;
  width:100%;
  height:100%;
  overflow:hidden;
  background:#e5e5e7;
  font-family:'SF Pro', Arial, sans-serif;
}

.container {
  height:100%;
  display:flex;
  flex-direction:column;
  padding-top:env(safe-area-inset-top);
  padding-bottom:env(safe-area-inset-bottom);
}

/*** LANGUAGE BUTTON ***/
.langBox {
  padding:8px 14px;
  display:flex;
  justify-content:flex-end;
}
.langBtn {
  padding:6px 12px;
  border-radius:10px;
  font-size:16px;
  border:none;
  background:#d6d6db;
  font-weight:600;
}
.langBtn:active {
  background:#c8c8ce;
}

/*** DISPLAY ***/
.displayBox {
  flex:1;
  display:flex;
  flex-direction:column;
  justify-content:flex-end;
  padding:10px 20px;
}

.exp {
  text-align:right;
  font-size:32px;
  color:#555;
}

.res {
  text-align:right;
  font-size:58px;
  font-weight:600;
  color:#000;
}

/*** BUTTONS ***/
.buttons {
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;
  padding:14px;
}

button {
  height:62px;
  font-size:21px;
  border:none;
  border-radius:50%;
  background:#ffffffd9;
  box-shadow:0 2px 5px rgba(0,0,0,0.15);
}

.op {
  background:#d6d6db;
  font-weight:600;
}

.equal {
  background:#ff9f0a;
  color:white;
  font-weight:700;
  font-size:24px;
}
</style>
</head>

<body>
<div class="container">

<div class="langBox">
  <button class="langBtn" onclick="toggleLang()" id="lang">Hindi</button>
</div>

<div class="displayBox">
  <div class="exp" id="exp"></div>
  <div class="res" id="res"></div>
</div>

<div class="buttons">
  <button class="op" onclick="clr()">AC</button>
  <button class="op" onclick="add('%')">%</button>
  <button class="op" onclick="del()">⌫</button>
  <button class="op" onclick="add('/')">÷</button>

  <button onclick="add('7')">7</button>
  <button onclick="add('8')">8</button>
  <button onclick="add('9')">9</button>
  <button class="op" onclick="add('*')">×</button>

  <button onclick="add('4')">4</button>
  <button onclick="add('5')">5</button>
  <button onclick="add('6')">6</button>
  <button class="op" onclick="add('-')">−</button>

  <button onclick="add('1')">1</button>
  <button onclick="add('2')">2</button>
  <button onclick="add('3')">3</button>
  <button class="op" onclick="add('+')">+</button>

  <button onclick="add('00')">00</button>
  <button onclick="add('0')">0</button>
  <button onclick="add('.')">.</button>
  <button class="equal" onclick="calc()">=</button>
</div>

</div>

<script>
let exp=document.getElementById("exp");
let res=document.getElementById("res");
let lang="hi"; // default hindi

function toggleLang(){
  lang = (lang==="hi") ? "en" : "hi";
  document.getElementById("lang").textContent = (lang==="hi") ? "Hindi" : "English";
}

function speak(txt){
  let u=new SpeechSynthesisUtterance(txt);
  u.rate=1;
  u.pitch=1;
  u.lang = (lang==="hi") ? "hi-IN" : "en-US";
  speechSynthesis.speak(u);
}

function convertHindi(str){
  return str
   .replace(/\*/g," गुणा ")
   .replace(/\+/g," प्लस ")
   .replace(/\-/g," माइनस ")
   .replace(/\//g," भाग ")
   .replace(/%/g," प्रतिशत ");
}

function convertEnglish(str){
  return str
   .replace(/\*/g," multiplied by ")
   .replace(/\+/g," plus ")
   .replace(/\-/g," minus ")
   .replace(/\//g," divided by ")
   .replace(/%/g," percent ");
}

function add(v){
  exp.textContent+=v;
  try{ res.textContent=eval(exp.textContent);}catch{}
}

function clr(){
  exp.textContent="";
  res.textContent="";
}

function del(){
  exp.textContent=exp.textContent.slice(0,-1);
  try{ res.textContent=eval(exp.textContent);}
  catch{ res.textContent="";}
}

function calc(){
  try{
    let r=eval(exp.textContent);
    let spoken;
    if(lang==="hi"){
      spoken = convertHindi(exp.textContent)+" बराबर "+r;
    } else {
      spoken = convertEnglish(exp.textContent)+" equals "+r;
    }
    speak(spoken);
    exp.textContent=r;
    res.textContent="";
  }catch{
    speak((lang==="hi")?"त्रुटि":"error");
  }
}
</script>

</body>
</html>